const elements=[...document.querySelectorAll(".nav__element")].slice(1),burger=document.querySelector(".nav__toggle"),nav=document.querySelector(".nav"),button=document.querySelector(".main__button"),input=document.querySelector(".main__input"),inputCustom=document.querySelector("#custom-url"),error=document.querySelector(".main__error");function main(){addListeners(),genChart()}function addListeners(){elements.forEach(e=>e.addEventListener("click",setActive)),elements.forEach(e=>e.addEventListener("keypress",setActive)),burger.addEventListener("click",toggleBurger),burger.addEventListener("keypress",toggleBurger),button.addEventListener("click",getShortenLink),input.addEventListener("keypress",getShortenLink)}function resetActive(){elements.forEach(e=>{e.classList.remove("nav__element--active")})}function setActive(e){"click"!==e.type&&"Enter"!==e.key&&"Space"!==e.code||(resetActive(),this.classList.add("nav__element--active"))}function toggleBurger(e){"click"!==e.type&&"Enter"!==e.key&&"Space"!==e.code||(this.classList.toggle("nav__toggle--active"),nav.classList.toggle("nav--active"))}function getShortenLink(){var e=input.value,t=inputCustom.value;try{check(e,t)}catch(e){setError(e)}}async function genChart(){var e=document.getElementById("myChart"),t={labels:getLastSevenDays(),datasets:[{label:"Redirect Usage stats",data:await getLastDaysStats(),backgroundColor:["#fb930042","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["#fb9300","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],tension:.1,borderWidth:1}]};setUpdateChart(new Chart(e,{type:"bar",data:t}))}function getLastSevenDays(){const t=[];for(let e=6;0<=e;e--)t.push(new Date(Date.now()-864e5*e).toLocaleDateString("en-En",{weekday:"short"}));return t}function setUpdateChart(e){setInterval(async()=>{e.data.datasets[0].data=await getLastDaysStats(),e.update()},15e3)}async function getLastDaysStats(){try{const e=await sendGet("main/stats/last/days/7"),t=await e.json();return refillJson(t.reverse())}catch(e){return[]}}function refillJson(e){const t=getDays();return e.forEach(e=>{t[e.day]=e.redirectCount}),Object.values(t)}function getDays(){const t={};for(let e=6;0<=e;e--){var n=new Date(new Date(Date.now()-864e5*e).toLocaleDateString("en")).toISOString();t[n]=0}return t}main();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFuZWwubWluLmpzIiwic291cmNlcyI6WyJwYW5lbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlbGVtZW50cyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19lbGVtZW50JyldLnNsaWNlKDEpO1xuY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fdG9nZ2xlJyk7XG5jb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2Jyk7XG5cbmNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluX19idXR0b24nKTtcbmNvbnN0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5fX2lucHV0Jyk7XG5jb25zdCBpbnB1dEN1c3RvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjdXN0b20tdXJsJyk7XG5jb25zdCBlcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluX19lcnJvcicpO1xuXG5mdW5jdGlvbiBtYWluKCkge1xuICBhZGRMaXN0ZW5lcnMoKTtcbiAgZ2VuQ2hhcnQoKTtcbn1cblxuZnVuY3Rpb24gYWRkTGlzdGVuZXJzKCkge1xuICBlbGVtZW50cy5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2V0QWN0aXZlKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBzZXRBY3RpdmUpKTtcbiAgYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlQnVyZ2VyKTtcbiAgYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdG9nZ2xlQnVyZ2VyKTtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZ2V0U2hvcnRlbkxpbmspO1xuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGdldFNob3J0ZW5MaW5rKTtcbn1cblxuZnVuY3Rpb24gcmVzZXRBY3RpdmUoKSB7XG4gIGVsZW1lbnRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ25hdl9fZWxlbWVudC0tYWN0aXZlJyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRBY3RpdmUoZXYpIHtcbiAgaWYgKGV2LnR5cGUgPT09ICdjbGljaycgfHwgZXYua2V5ID09PSAnRW50ZXInIHx8IGV2LmNvZGUgPT09ICdTcGFjZScpIHtcbiAgICByZXNldEFjdGl2ZSgpO1xuICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnbmF2X19lbGVtZW50LS1hY3RpdmUnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0b2dnbGVCdXJnZXIoZXYpIHtcbiAgaWYgKGV2LnR5cGUgPT09ICdjbGljaycgfHwgZXYua2V5ID09PSAnRW50ZXInIHx8IGV2LmNvZGUgPT09ICdTcGFjZScpIHtcbiAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ25hdl9fdG9nZ2xlLS1hY3RpdmUnKTtcbiAgICBuYXYuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2LS1hY3RpdmUnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTaG9ydGVuTGluaygpIHtcbiAgY29uc3QgdXJsID0gaW5wdXQudmFsdWU7XG4gIGNvbnN0IHVybEN1c3RvbSA9IGlucHV0Q3VzdG9tLnZhbHVlO1xuXG4gIHRyeSB7XG4gICAgY2hlY2sodXJsLCB1cmxDdXN0b20pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHNldEVycm9yKGVycm9yKTtcbiAgfVxufVxuXG4vLyBmdW5jdGlvbiBjaGVjayh1cmwsIGN1c3RvbSkge1xuLy8gICBpZiAoIXVybCkge1xuLy8gICAgIHRocm93IHt9O1xuLy8gICB9XG4vLyB9XG5cbmFzeW5jIGZ1bmN0aW9uIGdlbkNoYXJ0KCkge1xuICBjb25zdCBjdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlDaGFydCcpO1xuICBjb25zdCBkYXRhID0ge1xuICAgIGxhYmVsczogZ2V0TGFzdFNldmVuRGF5cygpLFxuICAgIGRhdGFzZXRzOiBbXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiAnUmVkaXJlY3QgVXNhZ2Ugc3RhdHMnLFxuICAgICAgICBkYXRhOiBhd2FpdCBnZXRMYXN0RGF5c1N0YXRzKCksIC8vXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogW1xuICAgICAgICAgICcjZmI5MzAwNDInLFxuICAgICAgICAgICdyZ2JhKDI1NSwgMTU5LCA2NCwgMC4yKScsXG4gICAgICAgICAgJ3JnYmEoMjU1LCAyMDUsIDg2LCAwLjIpJyxcbiAgICAgICAgICAncmdiYSg3NSwgMTkyLCAxOTIsIDAuMiknLFxuICAgICAgICAgICdyZ2JhKDU0LCAxNjIsIDIzNSwgMC4yKScsXG4gICAgICAgICAgJ3JnYmEoMTUzLCAxMDIsIDI1NSwgMC4yKScsXG4gICAgICAgICAgJ3JnYmEoMjAxLCAyMDMsIDIwNywgMC4yKScsXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlckNvbG9yOiBbXG4gICAgICAgICAgJyNmYjkzMDAnLFxuICAgICAgICAgICdyZ2IoMjU1LCAxNTksIDY0KScsXG4gICAgICAgICAgJ3JnYigyNTUsIDIwNSwgODYpJyxcbiAgICAgICAgICAncmdiKDc1LCAxOTIsIDE5MiknLFxuICAgICAgICAgICdyZ2IoNTQsIDE2MiwgMjM1KScsXG4gICAgICAgICAgJ3JnYigxNTMsIDEwMiwgMjU1KScsXG4gICAgICAgICAgJ3JnYigyMDEsIDIwMywgMjA3KScsXG4gICAgICAgIF0sXG4gICAgICAgIHRlbnNpb246IDAuMSxcbiAgICAgICAgYm9yZGVyV2lkdGg6IDEsXG4gICAgICB9LFxuICAgIF0sXG4gIH07XG4gIGNvbnN0IGNvbmZpZyA9IHtcbiAgICB0eXBlOiAnYmFyJyxcbiAgICBkYXRhOiBkYXRhLFxuICB9O1xuXG4gIHNldFVwZGF0ZUNoYXJ0KG5ldyBDaGFydChjdHgsIGNvbmZpZykpO1xufVxuXG5mdW5jdGlvbiBnZXRMYXN0U2V2ZW5EYXlzKCkge1xuICBjb25zdCBkYXlJbk1zID0gMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgY29uc3QgZGF5cyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSA2OyBpID49IDA7IGktLSkge1xuICAgIGRheXMucHVzaChcbiAgICAgIG5ldyBEYXRlKERhdGUubm93KCkgLSBpICogZGF5SW5NcykudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1FbicsIHtcbiAgICAgICAgd2Vla2RheTogJ3Nob3J0JyxcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGRheXM7XG59XG5cbmZ1bmN0aW9uIHNldFVwZGF0ZUNoYXJ0KGNoYXJ0KSB7XG4gIHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICBjaGFydC5kYXRhLmRhdGFzZXRzWzBdLmRhdGEgPSBhd2FpdCBnZXRMYXN0RGF5c1N0YXRzKCk7XG4gICAgY2hhcnQudXBkYXRlKCk7XG4gIH0sIDEuNWU0KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TGFzdERheXNTdGF0cygpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBzZW5kR2V0KCdtYWluL3N0YXRzL2xhc3QvZGF5cy83Jyk7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIHJlZmlsbEpzb24oanNvbi5yZXZlcnNlKCkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWZpbGxKc29uKGpzb24pIHtcbiAgY29uc3QgZGF5cyA9IGdldERheXMoKTtcblxuICBqc29uLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBkYXlzW2l0ZW0uZGF5XSA9IGl0ZW0ucmVkaXJlY3RDb3VudDtcbiAgfSk7XG5cbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZGF5cyk7XG59XG5cbmZ1bmN0aW9uIGdldERheXMoKSB7XG4gIGNvbnN0IGRheXMgPSB7fTtcbiAgY29uc3QgZGF5SW5NcyA9IDI0ICogNjAgKiA2MCAqIDEwMDA7XG5cbiAgZm9yIChsZXQgaSA9IDY7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3QgZGF5ID0gbmV3IERhdGUoXG4gICAgICBuZXcgRGF0ZShEYXRlLm5vdygpIC0gaSAqIGRheUluTXMpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4nKSxcbiAgICApLnRvSVNPU3RyaW5nKCk7XG5cbiAgICBkYXlzW2RheV0gPSAwO1xuICB9XG5cbiAgcmV0dXJuIGRheXM7XG59XG5cbm1haW4oKTtcbiJdLCJuYW1lcyI6WyJlbGVtZW50cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInNsaWNlIiwiYnVyZ2VyIiwicXVlcnlTZWxlY3RvciIsIm5hdiIsImJ1dHRvbiIsImlucHV0IiwiaW5wdXRDdXN0b20iLCJlcnJvciIsIm1haW4iLCJhZGRMaXN0ZW5lcnMiLCJnZW5DaGFydCIsImZvckVhY2giLCJpdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldEFjdGl2ZSIsInRvZ2dsZUJ1cmdlciIsImdldFNob3J0ZW5MaW5rIiwicmVzZXRBY3RpdmUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJldiIsInR5cGUiLCJrZXkiLCJjb2RlIiwidGhpcyIsImFkZCIsInRvZ2dsZSIsInVybCIsInZhbHVlIiwidXJsQ3VzdG9tIiwiY2hlY2siLCJzZXRFcnJvciIsImFzeW5jIiwiY3R4IiwiZ2V0RWxlbWVudEJ5SWQiLCJkYXRhIiwibGFiZWxzIiwiZ2V0TGFzdFNldmVuRGF5cyIsImRhdGFzZXRzIiwibGFiZWwiLCJnZXRMYXN0RGF5c1N0YXRzIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQ29sb3IiLCJ0ZW5zaW9uIiwiYm9yZGVyV2lkdGgiLCJzZXRVcGRhdGVDaGFydCIsIkNoYXJ0IiwiZGF5cyIsImkiLCJwdXNoIiwiRGF0ZSIsIm5vdyIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIndlZWtkYXkiLCJjaGFydCIsInNldEludGVydmFsIiwidXBkYXRlIiwicmVzIiwic2VuZEdldCIsImpzb24iLCJyZWZpbGxKc29uIiwicmV2ZXJzZSIsImdldERheXMiLCJkYXkiLCJyZWRpcmVjdENvdW50IiwiT2JqZWN0IiwidmFsdWVzIiwidG9JU09TdHJpbmciXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFNBQVcsSUFBSUMsU0FBU0MsaUJBQWlCLGtCQUFrQkMsTUFBTSxHQUNqRUMsT0FBU0gsU0FBU0ksY0FBYyxnQkFDaENDLElBQU1MLFNBQVNJLGNBQWMsUUFFN0JFLE9BQVNOLFNBQVNJLGNBQWMsaUJBQ2hDRyxNQUFRUCxTQUFTSSxjQUFjLGdCQUMvQkksWUFBY1IsU0FBU0ksY0FBYyxlQUNyQ0ssTUFBUVQsU0FBU0ksY0FBYyxnQkFFckMsU0FBU00sT0FDUEMsZUFDQUMsV0FHRixTQUFTRCxlQUNQWixTQUFTYyxRQUFRLEdBQVVDLEVBQUtDLGlCQUFpQixRQUFTQyxZQUMxRGpCLFNBQVNjLFFBQVEsR0FBVUMsRUFBS0MsaUJBQWlCLFdBQVlDLFlBQzdEYixPQUFPWSxpQkFBaUIsUUFBU0UsY0FDakNkLE9BQU9ZLGlCQUFpQixXQUFZRSxjQUNwQ1gsT0FBT1MsaUJBQWlCLFFBQVNHLGdCQUNqQ1gsTUFBTVEsaUJBQWlCLFdBQVlHLGdCQUdyQyxTQUFTQyxjQUNQcEIsU0FBU2MsUUFBUSxJQUNmQyxFQUFLTSxVQUFVQyxPQUFPLDBCQUkxQixTQUFTTCxVQUFVTSxHQUNELFVBQVpBLEVBQUdDLE1BQStCLFVBQVhELEVBQUdFLEtBQStCLFVBQVpGLEVBQUdHLE9BQ2xETixjQUNBTyxLQUFLTixVQUFVTyxJQUFJLHlCQUl2QixTQUFTVixhQUFhSyxHQUNKLFVBQVpBLEVBQUdDLE1BQStCLFVBQVhELEVBQUdFLEtBQStCLFVBQVpGLEVBQUdHLE9BQ2xEQyxLQUFLTixVQUFVUSxPQUFPLHVCQUN0QnZCLElBQUllLFVBQVVRLE9BQU8sZ0JBSXpCLFNBQVNWLGlCQUNQLElBQU1XLEVBQU10QixNQUFNdUIsTUFDWkMsRUFBWXZCLFlBQVlzQixNQUU5QixJQUNFRSxNQUFNSCxFQUFLRSxHQUNYLE1BQU90QixHQUNQd0IsU0FBU3hCLElBVWJ5QixlQUFldEIsV0FDYixJQUFNdUIsRUFBTW5DLFNBQVNvQyxlQUFlLFdBQzlCQyxFQUFPLENBQ1hDLE9BQVFDLG1CQUNSQyxTQUFVLENBQ1IsQ0FDRUMsTUFBTyx1QkFDUEosV0FBWUssbUJBQ1pDLGdCQUFpQixDQUNmLFlBQ0EsMEJBQ0EsMEJBQ0EsMEJBQ0EsMEJBQ0EsMkJBQ0EsNEJBRUZDLFlBQWEsQ0FDWCxVQUNBLG9CQUNBLG9CQUNBLG9CQUNBLG9CQUNBLHFCQUNBLHNCQUVGQyxRQUFTLEdBQ1RDLFlBQWEsS0FTbkJDLGVBQWUsSUFBSUMsTUFBTWIsRUFMVixDQUNiWixLQUFNLE1BQ05jLEtBQU1BLEtBTVYsU0FBU0UsbUJBRVAsTUFBTVUsRUFBTyxHQUViLElBQUssSUFBSUMsRUFBSSxFQUFRLEdBQUxBLEVBQVFBLElBQ3RCRCxFQUFLRSxLQUNILElBQUlDLEtBQUtBLEtBQUtDLE1BTEYsTUFLVUgsR0FBYUksbUJBQW1CLFFBQVMsQ0FDN0RDLFFBQVMsV0FJZixPQUFPTixFQUdULFNBQVNGLGVBQWVTLEdBQ3RCQyxZQUFZdkIsVUFDVnNCLEVBQU1uQixLQUFLRyxTQUFTLEdBQUdILFdBQWFLLG1CQUNwQ2MsRUFBTUUsVUFDTCxNQUdMeEIsZUFBZVEsbUJBQ2IsSUFDRSxNQUFNaUIsUUFBWUMsUUFBUSwwQkFDcEJDLFFBQWFGLEVBQUlFLE9BQ3ZCLE9BQU9DLFdBQVdELEVBQUtFLFdBQ3ZCLE1BQU90RCxHQUNQLE1BQU8sSUFJWCxTQUFTcUQsV0FBV0QsR0FDbEIsTUFBTVosRUFBT2UsVUFNYixPQUpBSCxFQUFLaEQsUUFBUSxJQUNYb0MsRUFBS25DLEVBQUttRCxLQUFPbkQsRUFBS29ELGdCQUdqQkMsT0FBT0MsT0FBT25CLEdBR3ZCLFNBQVNlLFVBQ1AsTUFBTWYsRUFBTyxHQUdiLElBQUssSUFBSUMsRUFBSSxFQUFRLEdBQUxBLEVBQVFBLElBQUssQ0FDM0IsSUFBTWUsRUFBTSxJQUFJYixLQUNkLElBQUlBLEtBQUtBLEtBQUtDLE1BSkYsTUFJVUgsR0FBYUksbUJBQW1CLE9BQ3REZSxjQUVGcEIsRUFBS2dCLEdBQU8sRUFHZCxPQUFPaEIsRUFHVHZDIn0=
