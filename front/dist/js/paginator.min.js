class PaginatorTemplate{constructor(t,{link:e,limit:a=10}){this.target=document.querySelector(t),this.link=e,this.limit=a,this.init()}init(){this.initTable(),this.initTableListeners(),this.initIndicator(),this.initData()}initTable(){const t=this.generateTable();this.body=t.querySelector("tbody"),this.appendToTarget(t)}initTableListeners(){this.body.addEventListener("click",this.clickHandler.bind(this))}clickHandler(t){var e=t.target.closest(".pagination__row");switch(t.target.blur(),t.target.dataset.type){case"copy":this.copyLink(e);break;case"edit":this.showEditPopup(e);break;case"delete":this.deleteItem(e);break;default:this.showStatsPopup(e)}}copyLink(t){var e=t.querySelector(".pagination__copy"),t=t.querySelector("a.link").innerText;copyValue(t,e)}showEditPopup(t){const[e,a]=t.querySelectorAll(".pagination__cell"),i=e.innerText,n=a.innerText.split("/").slice(-1)[0];this.popup=new EditModal({title:"Edit selected link",source:i,url:n},()=>{this.editRedirection.bind(this)(t.dataset.id,this.prepareBody(i,n))})}prepareBody(t,e){var a=[...document.querySelectorAll("#source, #url")].map(t=>t.value);const i={};return a[0]!==t&&(i.source=a[0]),a[1]!==e&&(i.customID=a[1]),i}async editRedirection(t,e){try{await sendPatch(`main/shorten/${t}`,e);this.showSuccess("Correctly updated"),this.changeData(this.currentPage)}catch(t){this.showError(t)}}deleteItem(t){var e=t.querySelector("a").innerText;this.popup=new Alert({text:`Are you really want to delete this redirection?<br><a class="link" target="_blank" rel="noopener noreferrer" href="${e}">${e}</a>`,title:"Attention"},()=>{this.deleteRedirection.bind(this)(t.dataset.id)})}async deleteRedirection(t){try{await sendDelete(`main/shorten/${t}`);this.showSuccess("Correctly deleted"),this.changeData(this.currentPage)}catch(t){this.showError(t)}}showStatsPopup(t){}initIndicator(){this.initIndicatorBody(),this.initIndicatorListeners()}initIndicatorBody(){this.indicator=this.generateIndicator(),this.pageInput=this.indicator.querySelector("input"),this.maxPageNode=this.indicator.querySelector(".indicator__count"),this.nextButton=this.indicator.querySelector(".indicator__next"),this.appendToTarget(this.indicator)}generateIndicator(){const t=document.createElement("div");return t.classList.add("indicator"),t.innerHTML='<div class="indicator__main"><span class="indicator__span">Page:</span><input type="text" class="indicator__input"><span class="indicator__span">of <span class="indicator__count"></span></span></div><button class="indicator__next button">Next</button>',t}appendToTarget(t){this.target.append(t)}initIndicatorListeners(){this.nextButton.addEventListener("click",this.nextPage.bind(this)),this.pageInput.addEventListener("blur",this.changePage.bind(this)),this.pageInput.addEventListener("keypress",this.changePage.bind(this))}nextPage(){this.changeData()}changePage({type:t,key:e}){"Enter"!=e&&"blur"!=t||this.changeData(this.pageInput.value)}appendToBody(t){this.body.append(t)}clearBody(){this.body.innerHTML=""}async initData(){this.setMaxPageNumber(await this.changeData())}async changeData(t){var{page:e,lastPage:a,items:t}=await this.getPage(t);return this.setPageNumber(e),this.appendTableItems(t),a}async getPage(t){return this.getPageByNumber(this.getCurrentPageNumber(t))}async getPageByNumber(t){try{return sendGet(`${this.link}/${t}/${this.limit}`)}catch(t){return{}}}getCurrentPageNumber(t){return this.currentPage&&this.currentPage==this.maxPageNode.innerText?1:+this.maxPageNode.innerText<+t?this.currentPage:t??(this.currentPage??0)+1}setPageNumber(t){this.pageInput.value=t,this.currentPage=t}setMaxPageNumber(t){this.maxPageNode.innerText=t}appendTableItems(t){this.clearBody(),t.forEach(t=>{this.appendToBody(this.generateTableRow(t))})}showSuccess(t){this.popup=new SuccessAlert(t)}showError(t){Array.isArray(t)?this.popup=new ErrorAlert(t.join("\n")):this.popup=new ErrorAlert(t)}}class UserPaginator extends PaginatorTemplate{constructor(...t){super(...t)}generateTable(){const t=document.createElement("table");return t.classList.add("pagination"),t.innerHTML='<thead class="pagination__head"><tr class="pagination__row"><th class="pagination__cell">Source</th><th class="pagination__cell">Shortened</th><th class="pagination__cell">Created at</th><th class="pagination__cell pagination__cell--button"></th><th class="pagination__cell pagination__cell--button"></th><th class="pagination__cell pagination__cell--button"></th></tr></thead><tbody class="pagination__body"></tbody>',t}generateTableRow({redirectLink:t,source:e,created_at:a,redirect_link_id:i}){const n=document.createElement("tr");n.classList.add("pagination__row"),n.dataset.id=i;a=new Date(a).toLocaleString();return n.innerHTML=`
    <tr class="pagination__row" >
    <td class="pagination__cell">${e}</td>
    <td class="pagination__cell"><a class="link" target="_blank" rel="noopener noreferrer" href="${t}">${t}</a></td>
    <td class="pagination__cell">${a}</td>
    <td class="pagination__cell pagination__cell--button"><button data-type="copy" class="pagination__copy button copy">Copy</button></td>
    <td class="pagination__cell pagination__cell--button"><button data-type="edit" class="pagination__edit button">Edit</button></td>
    <td class="pagination__cell pagination__cell--button"><button data-type="delete" class="pagination__delete button">Delete</button></td>
    </tr>
    `,n}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnaW5hdG9yLm1pbi5qcyIsInNvdXJjZXMiOlsicGFnaW5hdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFBhZ2luYXRvclRlbXBsYXRlIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIHsgbGluaywgbGltaXQgPSAxMCB9KSB7XG4gICAgdGhpcy50YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB0aGlzLmxpbmsgPSBsaW5rO1xuICAgIHRoaXMubGltaXQgPSBsaW1pdDtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmluaXRUYWJsZSgpO1xuICAgIHRoaXMuaW5pdFRhYmxlTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5pbml0SW5kaWNhdG9yKCk7XG4gICAgdGhpcy5pbml0RGF0YSgpO1xuICB9XG5cbiAgaW5pdFRhYmxlKCkge1xuICAgIGNvbnN0IHRhYmxlID0gdGhpcy5nZW5lcmF0ZVRhYmxlKCk7XG5cbiAgICB0aGlzLmJvZHkgPSB0YWJsZS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpO1xuXG4gICAgdGhpcy5hcHBlbmRUb1RhcmdldCh0YWJsZSk7XG4gIH1cblxuICBpbml0VGFibGVMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIuYmluZCh0aGlzKSk7XG4gIH1cblxuICBjbGlja0hhbmRsZXIoZXYpIHtcbiAgICBjb25zdCBjbG9zZXN0VHIgPSBldi50YXJnZXQuY2xvc2VzdCgnLnBhZ2luYXRpb25fX3JvdycpO1xuICAgIGV2LnRhcmdldC5ibHVyKCk7XG5cbiAgICBzd2l0Y2ggKGV2LnRhcmdldC5kYXRhc2V0LnR5cGUpIHtcbiAgICAgIGNhc2UgJ2NvcHknOlxuICAgICAgICB0aGlzLmNvcHlMaW5rKGNsb3Nlc3RUcik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdlZGl0JzpcbiAgICAgICAgdGhpcy5zaG93RWRpdFBvcHVwKGNsb3Nlc3RUcik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICB0aGlzLmRlbGV0ZUl0ZW0oY2xvc2VzdFRyKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuc2hvd1N0YXRzUG9wdXAoY2xvc2VzdFRyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgY29weUxpbmsobm9kZSkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IG5vZGUucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX2NvcHknKTtcbiAgICBjb25zdCB0ZXh0ID0gbm9kZS5xdWVyeVNlbGVjdG9yKCdhLmxpbmsnKS5pbm5lclRleHQ7XG4gICAgY29weVZhbHVlKHRleHQsIGJ1dHRvbik7XG4gIH1cblxuICBzaG93RWRpdFBvcHVwKG5vZGUpIHtcbiAgICBjb25zdCBbc291cmNlTm9kZSwgdXJsTm9kZV0gPSBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdpbmF0aW9uX19jZWxsJyk7XG4gICAgY29uc3Qgc291cmNlID0gc291cmNlTm9kZS5pbm5lclRleHQ7XG4gICAgY29uc3QgdXJsID0gdXJsTm9kZS5pbm5lclRleHQuc3BsaXQoJy8nKS5zbGljZSgtMSlbMF07XG5cbiAgICB0aGlzLnBvcHVwID0gbmV3IEVkaXRNb2RhbChcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IGBFZGl0IHNlbGVjdGVkIGxpbmtgLFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIHVybCxcbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuZWRpdFJlZGlyZWN0aW9uLmJpbmQodGhpcykoXG4gICAgICAgICAgbm9kZS5kYXRhc2V0LmlkLFxuICAgICAgICAgIHRoaXMucHJlcGFyZUJvZHkoc291cmNlLCB1cmwpLFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgcHJlcGFyZUJvZHkoc291cmNlLCB1cmwpIHtcbiAgICBjb25zdCBsaW5rcyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjc291cmNlLCAjdXJsJyldLm1hcChcbiAgICAgIChsaW5rKSA9PiBsaW5rLnZhbHVlLFxuICAgICk7XG5cbiAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgIGlmIChsaW5rc1swXSAhPT0gc291cmNlKSB7XG4gICAgICByZXN1bHRbJ3NvdXJjZSddID0gbGlua3NbMF07XG4gICAgfVxuXG4gICAgaWYgKGxpbmtzWzFdICE9PSB1cmwpIHtcbiAgICAgIHJlc3VsdFsnY3VzdG9tSUQnXSA9IGxpbmtzWzFdO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBhc3luYyBlZGl0UmVkaXJlY3Rpb24oaWQsIGJvZHkpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kUGF0Y2goYG1haW4vc2hvcnRlbi8ke2lkfWAsIGJvZHkpO1xuICAgICAgdGhpcy5zaG93U3VjY2VzcygnQ29ycmVjdGx5IHVwZGF0ZWQnKTtcbiAgICAgIHRoaXMuY2hhbmdlRGF0YSh0aGlzLmN1cnJlbnRQYWdlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5zaG93RXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZUl0ZW0obm9kZSkge1xuICAgIGNvbnN0IGxpbmsgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5pbm5lclRleHQ7XG4gICAgdGhpcy5wb3B1cCA9IG5ldyBBbGVydChcbiAgICAgIHtcbiAgICAgICAgdGV4dDogYEFyZSB5b3UgcmVhbGx5IHdhbnQgdG8gZGVsZXRlIHRoaXMgcmVkaXJlY3Rpb24/PGJyPjxhIGNsYXNzPVwibGlua1wiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIiBocmVmPVwiJHtsaW5rfVwiPiR7bGlua308L2E+YCxcbiAgICAgICAgdGl0bGU6ICdBdHRlbnRpb24nLFxuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5kZWxldGVSZWRpcmVjdGlvbi5iaW5kKHRoaXMpKG5vZGUuZGF0YXNldC5pZCk7XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICBhc3luYyBkZWxldGVSZWRpcmVjdGlvbihpZCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmREZWxldGUoYG1haW4vc2hvcnRlbi8ke2lkfWApO1xuICAgICAgdGhpcy5zaG93U3VjY2VzcygnQ29ycmVjdGx5IGRlbGV0ZWQnKTtcbiAgICAgIHRoaXMuY2hhbmdlRGF0YSh0aGlzLmN1cnJlbnRQYWdlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5zaG93RXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHNob3dTdGF0c1BvcHVwKG5vZGUpIHt9XG5cbiAgaW5pdEluZGljYXRvcigpIHtcbiAgICB0aGlzLmluaXRJbmRpY2F0b3JCb2R5KCk7XG4gICAgdGhpcy5pbml0SW5kaWNhdG9yTGlzdGVuZXJzKCk7XG4gIH1cblxuICBpbml0SW5kaWNhdG9yQm9keSgpIHtcbiAgICB0aGlzLmluZGljYXRvciA9IHRoaXMuZ2VuZXJhdGVJbmRpY2F0b3IoKTtcblxuICAgIHRoaXMucGFnZUlucHV0ID0gdGhpcy5pbmRpY2F0b3IucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICB0aGlzLm1heFBhZ2VOb2RlID0gdGhpcy5pbmRpY2F0b3IucXVlcnlTZWxlY3RvcignLmluZGljYXRvcl9fY291bnQnKTtcbiAgICB0aGlzLm5leHRCdXR0b24gPSB0aGlzLmluZGljYXRvci5xdWVyeVNlbGVjdG9yKCcuaW5kaWNhdG9yX19uZXh0Jyk7XG5cbiAgICB0aGlzLmFwcGVuZFRvVGFyZ2V0KHRoaXMuaW5kaWNhdG9yKTtcbiAgfVxuXG4gIGdlbmVyYXRlSW5kaWNhdG9yKCkge1xuICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdpbmRpY2F0b3InKTtcblxuICAgIGluZGljYXRvci5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cImluZGljYXRvcl9fbWFpblwiPjxzcGFuIGNsYXNzPVwiaW5kaWNhdG9yX19zcGFuXCI+UGFnZTo8L3NwYW4+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJpbmRpY2F0b3JfX2lucHV0XCI+PHNwYW4gY2xhc3M9XCJpbmRpY2F0b3JfX3NwYW5cIj5vZiA8c3BhbiBjbGFzcz1cImluZGljYXRvcl9fY291bnRcIj48L3NwYW4+PC9zcGFuPjwvZGl2PjxidXR0b24gY2xhc3M9XCJpbmRpY2F0b3JfX25leHQgYnV0dG9uXCI+TmV4dDwvYnV0dG9uPmA7XG5cbiAgICByZXR1cm4gaW5kaWNhdG9yO1xuICB9XG5cbiAgYXBwZW5kVG9UYXJnZXQobm9kZSkge1xuICAgIHRoaXMudGFyZ2V0LmFwcGVuZChub2RlKTtcbiAgfVxuXG4gIGluaXRJbmRpY2F0b3JMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5uZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5uZXh0UGFnZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5jaGFuZ2VQYWdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMucGFnZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5jaGFuZ2VQYWdlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgbmV4dFBhZ2UoKSB7XG4gICAgdGhpcy5jaGFuZ2VEYXRhKCk7XG4gIH1cblxuICBjaGFuZ2VQYWdlKHsgdHlwZSwga2V5IH0pIHtcbiAgICBpZiAoa2V5ID09ICdFbnRlcicgfHwgdHlwZSA9PSAnYmx1cicpIHtcbiAgICAgIHRoaXMuY2hhbmdlRGF0YSh0aGlzLnBhZ2VJbnB1dC52YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgYXBwZW5kVG9Cb2R5KG5vZGUpIHtcbiAgICB0aGlzLmJvZHkuYXBwZW5kKG5vZGUpO1xuICB9XG5cbiAgY2xlYXJCb2R5KCkge1xuICAgIHRoaXMuYm9keS5pbm5lckhUTUwgPSAnJztcbiAgfVxuXG4gIGFzeW5jIGluaXREYXRhKCkge1xuICAgIHRoaXMuc2V0TWF4UGFnZU51bWJlcihhd2FpdCB0aGlzLmNoYW5nZURhdGEoKSk7XG4gIH1cblxuICBhc3luYyBjaGFuZ2VEYXRhKG51bSkge1xuICAgIGNvbnN0IHsgcGFnZSwgbGFzdFBhZ2UsIGl0ZW1zIH0gPSBhd2FpdCB0aGlzLmdldFBhZ2UobnVtKTtcblxuICAgIHRoaXMuc2V0UGFnZU51bWJlcihwYWdlKTtcbiAgICB0aGlzLmFwcGVuZFRhYmxlSXRlbXMoaXRlbXMpO1xuICAgIHJldHVybiBsYXN0UGFnZTtcbiAgfVxuXG4gIGFzeW5jIGdldFBhZ2UocGFnZSkge1xuICAgIHJldHVybiB0aGlzLmdldFBhZ2VCeU51bWJlcih0aGlzLmdldEN1cnJlbnRQYWdlTnVtYmVyKHBhZ2UpKTtcbiAgfVxuXG4gIGFzeW5jIGdldFBhZ2VCeU51bWJlcihwYWdlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBzZW5kR2V0KGAke3RoaXMubGlua30vJHtwYWdlfS8ke3RoaXMubGltaXR9YCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH1cblxuICBnZXRDdXJyZW50UGFnZU51bWJlcihudW0pIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZSAmJiB0aGlzLmN1cnJlbnRQYWdlID09IHRoaXMubWF4UGFnZU5vZGUuaW5uZXJUZXh0KSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBpZiAoK3RoaXMubWF4UGFnZU5vZGUuaW5uZXJUZXh0IDwgK251bSkge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFBhZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bSA/PyAodGhpcy5jdXJyZW50UGFnZSA/PyAwKSArIDE7XG4gIH1cblxuICBzZXRQYWdlTnVtYmVyKHBhZ2UpIHtcbiAgICB0aGlzLnBhZ2VJbnB1dC52YWx1ZSA9IHBhZ2U7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7XG4gIH1cblxuICBzZXRNYXhQYWdlTnVtYmVyKHBhZ2UpIHtcbiAgICB0aGlzLm1heFBhZ2VOb2RlLmlubmVyVGV4dCA9IHBhZ2U7XG4gIH1cblxuICBhcHBlbmRUYWJsZUl0ZW1zKGl0ZW1zKSB7XG4gICAgdGhpcy5jbGVhckJvZHkoKTtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLmFwcGVuZFRvQm9keSh0aGlzLmdlbmVyYXRlVGFibGVSb3coaXRlbSkpO1xuICAgIH0pO1xuICB9XG5cbiAgc2hvd1N1Y2Nlc3ModGV4dCkge1xuICAgIHRoaXMucG9wdXAgPSBuZXcgU3VjY2Vzc0FsZXJ0KHRleHQpO1xuICB9XG5cbiAgc2hvd0Vycm9yKHJlc3BvbnNlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVzcG9uc2UpKSB7XG4gICAgICB0aGlzLnBvcHVwID0gbmV3IEVycm9yQWxlcnQocmVzcG9uc2Uuam9pbignXFxuJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBvcHVwID0gbmV3IEVycm9yQWxlcnQocmVzcG9uc2UpO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBVc2VyUGFnaW5hdG9yIGV4dGVuZHMgUGFnaW5hdG9yVGVtcGxhdGUge1xuICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgc3VwZXIoLi4uYXJncyk7XG4gIH1cblxuICBnZW5lcmF0ZVRhYmxlKCkge1xuICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgICB0YWJsZS5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uJyk7XG5cbiAgICB0YWJsZS5pbm5lckhUTUwgPSBgPHRoZWFkIGNsYXNzPVwicGFnaW5hdGlvbl9faGVhZFwiPjx0ciBjbGFzcz1cInBhZ2luYXRpb25fX3Jvd1wiPjx0aCBjbGFzcz1cInBhZ2luYXRpb25fX2NlbGxcIj5Tb3VyY2U8L3RoPjx0aCBjbGFzcz1cInBhZ2luYXRpb25fX2NlbGxcIj5TaG9ydGVuZWQ8L3RoPjx0aCBjbGFzcz1cInBhZ2luYXRpb25fX2NlbGxcIj5DcmVhdGVkIGF0PC90aD48dGggY2xhc3M9XCJwYWdpbmF0aW9uX19jZWxsIHBhZ2luYXRpb25fX2NlbGwtLWJ1dHRvblwiPjwvdGg+PHRoIGNsYXNzPVwicGFnaW5hdGlvbl9fY2VsbCBwYWdpbmF0aW9uX19jZWxsLS1idXR0b25cIj48L3RoPjx0aCBjbGFzcz1cInBhZ2luYXRpb25fX2NlbGwgcGFnaW5hdGlvbl9fY2VsbC0tYnV0dG9uXCI+PC90aD48L3RyPjwvdGhlYWQ+PHRib2R5IGNsYXNzPVwicGFnaW5hdGlvbl9fYm9keVwiPjwvdGJvZHk+YDtcblxuICAgIHJldHVybiB0YWJsZTtcbiAgfVxuXG4gIGdlbmVyYXRlVGFibGVSb3coeyByZWRpcmVjdExpbmssIHNvdXJjZSwgY3JlYXRlZF9hdCwgcmVkaXJlY3RfbGlua19pZCB9KSB7XG4gICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIHRyLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX3JvdycpO1xuICAgIHRyLmRhdGFzZXQuaWQgPSByZWRpcmVjdF9saW5rX2lkO1xuICAgIGNvbnN0IGRhdGVTdHJpbmcgPSBuZXcgRGF0ZShjcmVhdGVkX2F0KS50b0xvY2FsZVN0cmluZygpO1xuXG4gICAgdHIuaW5uZXJIVE1MID0gYFxuICAgIDx0ciBjbGFzcz1cInBhZ2luYXRpb25fX3Jvd1wiID5cbiAgICA8dGQgY2xhc3M9XCJwYWdpbmF0aW9uX19jZWxsXCI+JHtzb3VyY2V9PC90ZD5cbiAgICA8dGQgY2xhc3M9XCJwYWdpbmF0aW9uX19jZWxsXCI+PGEgY2xhc3M9XCJsaW5rXCIgdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiIGhyZWY9XCIke3JlZGlyZWN0TGlua31cIj4ke3JlZGlyZWN0TGlua308L2E+PC90ZD5cbiAgICA8dGQgY2xhc3M9XCJwYWdpbmF0aW9uX19jZWxsXCI+JHtkYXRlU3RyaW5nfTwvdGQ+XG4gICAgPHRkIGNsYXNzPVwicGFnaW5hdGlvbl9fY2VsbCBwYWdpbmF0aW9uX19jZWxsLS1idXR0b25cIj48YnV0dG9uIGRhdGEtdHlwZT1cImNvcHlcIiBjbGFzcz1cInBhZ2luYXRpb25fX2NvcHkgYnV0dG9uIGNvcHlcIj5Db3B5PC9idXR0b24+PC90ZD5cbiAgICA8dGQgY2xhc3M9XCJwYWdpbmF0aW9uX19jZWxsIHBhZ2luYXRpb25fX2NlbGwtLWJ1dHRvblwiPjxidXR0b24gZGF0YS10eXBlPVwiZWRpdFwiIGNsYXNzPVwicGFnaW5hdGlvbl9fZWRpdCBidXR0b25cIj5FZGl0PC9idXR0b24+PC90ZD5cbiAgICA8dGQgY2xhc3M9XCJwYWdpbmF0aW9uX19jZWxsIHBhZ2luYXRpb25fX2NlbGwtLWJ1dHRvblwiPjxidXR0b24gZGF0YS10eXBlPVwiZGVsZXRlXCIgY2xhc3M9XCJwYWdpbmF0aW9uX19kZWxldGUgYnV0dG9uXCI+RGVsZXRlPC9idXR0b24+PC90ZD5cbiAgICA8L3RyPlxuICAgIGA7XG5cbiAgICByZXR1cm4gdHI7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJQYWdpbmF0b3JUZW1wbGF0ZSIsImNvbnN0cnVjdG9yIiwic2VsZWN0b3IiLCJsaW5rIiwibGltaXQiLCJ0aGlzIiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW5pdCIsImluaXRUYWJsZSIsImluaXRUYWJsZUxpc3RlbmVycyIsImluaXRJbmRpY2F0b3IiLCJpbml0RGF0YSIsInRhYmxlIiwiZ2VuZXJhdGVUYWJsZSIsImJvZHkiLCJhcHBlbmRUb1RhcmdldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGlja0hhbmRsZXIiLCJiaW5kIiwiZXYiLCJjbG9zZXN0VHIiLCJjbG9zZXN0IiwiYmx1ciIsImRhdGFzZXQiLCJ0eXBlIiwiY29weUxpbmsiLCJzaG93RWRpdFBvcHVwIiwiZGVsZXRlSXRlbSIsInNob3dTdGF0c1BvcHVwIiwibm9kZSIsImJ1dHRvbiIsInRleHQiLCJpbm5lclRleHQiLCJjb3B5VmFsdWUiLCJzb3VyY2VOb2RlIiwidXJsTm9kZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzb3VyY2UiLCJ1cmwiLCJzcGxpdCIsInNsaWNlIiwicG9wdXAiLCJFZGl0TW9kYWwiLCJ0aXRsZSIsImVkaXRSZWRpcmVjdGlvbiIsImlkIiwicHJlcGFyZUJvZHkiLCJsaW5rcyIsIm1hcCIsInZhbHVlIiwicmVzdWx0Iiwic2VuZFBhdGNoIiwic2hvd1N1Y2Nlc3MiLCJjaGFuZ2VEYXRhIiwiY3VycmVudFBhZ2UiLCJlcnJvciIsInNob3dFcnJvciIsIkFsZXJ0IiwiZGVsZXRlUmVkaXJlY3Rpb24iLCJzZW5kRGVsZXRlIiwiaW5pdEluZGljYXRvckJvZHkiLCJpbml0SW5kaWNhdG9yTGlzdGVuZXJzIiwiaW5kaWNhdG9yIiwiZ2VuZXJhdGVJbmRpY2F0b3IiLCJwYWdlSW5wdXQiLCJtYXhQYWdlTm9kZSIsIm5leHRCdXR0b24iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJIVE1MIiwiYXBwZW5kIiwibmV4dFBhZ2UiLCJjaGFuZ2VQYWdlIiwia2V5IiwiYXBwZW5kVG9Cb2R5IiwiY2xlYXJCb2R5Iiwic2V0TWF4UGFnZU51bWJlciIsIm51bSIsInBhZ2UiLCJsYXN0UGFnZSIsIml0ZW1zIiwiZ2V0UGFnZSIsInNldFBhZ2VOdW1iZXIiLCJhcHBlbmRUYWJsZUl0ZW1zIiwiZ2V0UGFnZUJ5TnVtYmVyIiwiZ2V0Q3VycmVudFBhZ2VOdW1iZXIiLCJzZW5kR2V0IiwiZm9yRWFjaCIsImdlbmVyYXRlVGFibGVSb3ciLCJpdGVtIiwiU3VjY2Vzc0FsZXJ0IiwicmVzcG9uc2UiLCJBcnJheSIsImlzQXJyYXkiLCJFcnJvckFsZXJ0Iiwiam9pbiIsIlVzZXJQYWdpbmF0b3IiLCJhcmdzIiwic3VwZXIiLCJyZWRpcmVjdExpbmsiLCJjcmVhdGVkX2F0IiwicmVkaXJlY3RfbGlua19pZCIsInRyIiwiZGF0ZVN0cmluZyIsIkRhdGUiLCJ0b0xvY2FsZVN0cmluZyJdLCJtYXBwaW5ncyI6Ik1BQU1BLGtCQUNKQyxZQUFZQyxFQUFVLENBQUVDLEtBQUFBLEVBQU1DLE1BQUFBLEVBQVEsS0FDcENDLEtBQUtDLE9BQVNDLFNBQVNDLGNBQWNOLEdBQ3JDRyxLQUFLRixLQUFPQSxFQUNaRSxLQUFLRCxNQUFRQSxFQUViQyxLQUFLSSxPQUdQQSxPQUNFSixLQUFLSyxZQUNMTCxLQUFLTSxxQkFDTE4sS0FBS08sZ0JBQ0xQLEtBQUtRLFdBR1BILFlBQ0UsTUFBTUksRUFBUVQsS0FBS1UsZ0JBRW5CVixLQUFLVyxLQUFPRixFQUFNTixjQUFjLFNBRWhDSCxLQUFLWSxlQUFlSCxHQUd0QkgscUJBQ0VOLEtBQUtXLEtBQUtFLGlCQUFpQixRQUFTYixLQUFLYyxhQUFhQyxLQUFLZixPQUc3RGMsYUFBYUUsR0FDWCxJQUFNQyxFQUFZRCxFQUFHZixPQUFPaUIsUUFBUSxvQkFHcEMsT0FGQUYsRUFBR2YsT0FBT2tCLE9BRUZILEVBQUdmLE9BQU9tQixRQUFRQyxNQUN4QixJQUFLLE9BQ0hyQixLQUFLc0IsU0FBU0wsR0FDZCxNQUVGLElBQUssT0FDSGpCLEtBQUt1QixjQUFjTixHQUNuQixNQUVGLElBQUssU0FDSGpCLEtBQUt3QixXQUFXUCxHQUNoQixNQUVGLFFBQ0VqQixLQUFLeUIsZUFBZVIsSUFLMUJLLFNBQVNJLEdBQ1AsSUFBTUMsRUFBU0QsRUFBS3ZCLGNBQWMscUJBQzVCeUIsRUFBT0YsRUFBS3ZCLGNBQWMsVUFBVTBCLFVBQzFDQyxVQUFVRixFQUFNRCxHQUdsQkosY0FBY0csR0FDWixLQUFNLENBQUNLLEVBQVlDLEdBQVdOLEVBQUtPLGlCQUFpQixxQkFDOUNDLEVBQVNILEVBQVdGLFVBQ3BCTSxFQUFNSCxFQUFRSCxVQUFVTyxNQUFNLEtBQUtDLE9BQU8sR0FBRyxHQUVuRHJD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
