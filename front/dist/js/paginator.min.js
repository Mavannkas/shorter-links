class PaginatorTemplate{constructor(t,{link:a,limit:e=10}){this.target=document.querySelector(t),this.link=a,this.limit=e,this.init()}init(){this.initTable(),this.initIndicator(),this.initData()}initTable(){const t=this.generateTable();this.body=t.querySelector("tbody"),this.appendToTarget(t)}initIndicator(){this.indicator=this.generateIndicator(),this.pageInput=this.indicator.querySelector("input"),this.maxPageNode=this.indicator.querySelector(".indicator__count"),this.nextButton=this.indicator.querySelector(".indicator__next"),this.appendToTarget(this.indicator)}generateIndicator(){const t=document.createElement("div");return t.classList.add("indicator"),t.innerHTML='<div class="indicator__main"><span class="indicator__span">Page:</span><input type="text" class="indicator__input"><span class="indicator__span">of <span class="indicator__count"></span></span></div><button class="indicator__next button">Next</button>',t}appendToTarget(t){this.target.append(t)}appendToBody(t){this.body.append(t)}clearBody(){this.body.innerHTML=""}async initData(){var{page:t,lastPage:a,items:e}=await this.getPage();this.setPageNumber(t),this.setMaxPageNumber(a),this.appendTableItems(e)}async getPage(t){return this.getPageByNumber(this.getCurrentPageNumber(t))}async getPageByNumber(t){try{return sendGet(`${this.link}/${t}/${this.limit}`)}catch(t){return{}}}getCurrentPageNumber(t){return t??(this.currentPage??0)+1}setPageNumber(t){this.pageInput.value=t,this.currentPage=t}setMaxPageNumber(t){this.maxPageNode.innerText=t}appendTableItems(t){t.forEach(t=>{this.appendToBody(this.generateTableRow(t))})}initIndicatorListeners(){this.nextButton.addEventListener("click",nextPage),this.pageInput.addEventListener("blur",changePage),this.pageInput.addEventListener("keypress",changePage)}}class UserPaginator extends PaginatorTemplate{constructor(...t){super(...t)}generateTable(){const t=document.createElement("table");return t.classList.add("pagination"),t.innerHTML='<thead class="pagination__head"><tr class="pagination__row"><th class="pagination__cell">Source</th><th class="pagination__cell">Shortened</th><th class="pagination__cell">Created at</th><th class="pagination__cell pagination__cell--button"></th><th class="pagination__cell pagination__cell--button"></th><th class="pagination__cell pagination__cell--button"></th></tr></thead><tbody class="pagination__body"></tbody>',t}generateTableRow({redirectLink:t,source:a,created_at:e,redirect_link_id:n}){const i=document.createElement("tr");i.classList.add("pagination__row"),i.dataset.id=n;e=new Date(e).toLocaleString();return i.innerHTML=`
    <tr class="pagination__row" >
    <td class="pagination__cell">${a}</td>
    <td class="pagination__cell"><a class="link" href="${t}">${t}</a></td>
    <td class="pagination__cell">${e}</td>
    <td class="pagination__cell pagination__cell--button"><button class="pagination__copy button copy">Copy</button></td>
    <td class="pagination__cell pagination__cell--button"><button class="pagination__edit button">Edit</button></td>
    <td class="pagination__cell pagination__cell--button"><button class="pagination__delete button">Delete</button></td>
    </tr>
    `,i}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnaW5hdG9yLm1pbi5qcyIsInNvdXJjZXMiOlsicGFnaW5hdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFBhZ2luYXRvclRlbXBsYXRlIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIHsgbGluaywgbGltaXQgPSAxMCB9KSB7XG4gICAgdGhpcy50YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB0aGlzLmxpbmsgPSBsaW5rO1xuICAgIHRoaXMubGltaXQgPSBsaW1pdDtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmluaXRUYWJsZSgpO1xuICAgIHRoaXMuaW5pdEluZGljYXRvcigpO1xuICAgIHRoaXMuaW5pdERhdGEoKTtcbiAgICAvLyB0aGlzLmluaXRMaXN0ZW5lcnMoKTtcbiAgICAvL2FkZCBjb3B5LCBzdGF0cywgZGVsZXRlLCBlZGl0XG4gIH1cblxuICBpbml0VGFibGUoKSB7XG4gICAgY29uc3QgdGFibGUgPSB0aGlzLmdlbmVyYXRlVGFibGUoKTtcblxuICAgIHRoaXMuYm9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XG5cbiAgICB0aGlzLmFwcGVuZFRvVGFyZ2V0KHRhYmxlKTtcbiAgfVxuXG4gIGluaXRJbmRpY2F0b3IoKSB7XG4gICAgdGhpcy5pbmRpY2F0b3IgPSB0aGlzLmdlbmVyYXRlSW5kaWNhdG9yKCk7XG5cbiAgICB0aGlzLnBhZ2VJbnB1dCA9IHRoaXMuaW5kaWNhdG9yLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgdGhpcy5tYXhQYWdlTm9kZSA9IHRoaXMuaW5kaWNhdG9yLnF1ZXJ5U2VsZWN0b3IoJy5pbmRpY2F0b3JfX2NvdW50Jyk7XG4gICAgdGhpcy5uZXh0QnV0dG9uID0gdGhpcy5pbmRpY2F0b3IucXVlcnlTZWxlY3RvcignLmluZGljYXRvcl9fbmV4dCcpO1xuXG4gICAgdGhpcy5hcHBlbmRUb1RhcmdldCh0aGlzLmluZGljYXRvcik7XG4gIH1cblxuICBnZW5lcmF0ZUluZGljYXRvcigpIHtcbiAgICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpbmRpY2F0b3IuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9yJyk7XG5cbiAgICBpbmRpY2F0b3IuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJpbmRpY2F0b3JfX21haW5cIj48c3BhbiBjbGFzcz1cImluZGljYXRvcl9fc3BhblwiPlBhZ2U6PC9zcGFuPjxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW5kaWNhdG9yX19pbnB1dFwiPjxzcGFuIGNsYXNzPVwiaW5kaWNhdG9yX19zcGFuXCI+b2YgPHNwYW4gY2xhc3M9XCJpbmRpY2F0b3JfX2NvdW50XCI+PC9zcGFuPjwvc3Bhbj48L2Rpdj48YnV0dG9uIGNsYXNzPVwiaW5kaWNhdG9yX19uZXh0IGJ1dHRvblwiPk5leHQ8L2J1dHRvbj5gO1xuXG4gICAgcmV0dXJuIGluZGljYXRvcjtcbiAgfVxuXG4gIGFwcGVuZFRvVGFyZ2V0KG5vZGUpIHtcbiAgICB0aGlzLnRhcmdldC5hcHBlbmQobm9kZSk7XG4gIH1cblxuICBhcHBlbmRUb0JvZHkobm9kZSkge1xuICAgIHRoaXMuYm9keS5hcHBlbmQobm9kZSk7XG4gIH1cblxuICBjbGVhckJvZHkoKSB7XG4gICAgdGhpcy5ib2R5LmlubmVySFRNTCA9ICcnO1xuICB9XG5cbiAgYXN5bmMgaW5pdERhdGEoKSB7XG4gICAgY29uc3QgeyBwYWdlLCBsYXN0UGFnZSwgaXRlbXMgfSA9IGF3YWl0IHRoaXMuZ2V0UGFnZSgpO1xuXG4gICAgdGhpcy5zZXRQYWdlTnVtYmVyKHBhZ2UpO1xuICAgIHRoaXMuc2V0TWF4UGFnZU51bWJlcihsYXN0UGFnZSk7XG4gICAgdGhpcy5hcHBlbmRUYWJsZUl0ZW1zKGl0ZW1zKTtcbiAgfVxuXG4gIGFzeW5jIGdldFBhZ2UocGFnZSkge1xuICAgIHJldHVybiB0aGlzLmdldFBhZ2VCeU51bWJlcih0aGlzLmdldEN1cnJlbnRQYWdlTnVtYmVyKHBhZ2UpKTtcbiAgfVxuXG4gIGFzeW5jIGdldFBhZ2VCeU51bWJlcihwYWdlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBzZW5kR2V0KGAke3RoaXMubGlua30vJHtwYWdlfS8ke3RoaXMubGltaXR9YCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH1cblxuICBnZXRDdXJyZW50UGFnZU51bWJlcihudW0pIHtcbiAgICByZXR1cm4gbnVtID8/ICh0aGlzLmN1cnJlbnRQYWdlID8/IDApICsgMTtcbiAgfVxuXG4gIHNldFBhZ2VOdW1iZXIocGFnZSkge1xuICAgIHRoaXMucGFnZUlucHV0LnZhbHVlID0gcGFnZTtcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZTtcbiAgfVxuXG4gIHNldE1heFBhZ2VOdW1iZXIocGFnZSkge1xuICAgIHRoaXMubWF4UGFnZU5vZGUuaW5uZXJUZXh0ID0gcGFnZTtcbiAgfVxuXG4gIGFwcGVuZFRhYmxlSXRlbXMoaXRlbXMpIHtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLmFwcGVuZFRvQm9keSh0aGlzLmdlbmVyYXRlVGFibGVSb3coaXRlbSkpO1xuICAgIH0pO1xuICB9XG5cbiAgaW5pdEluZGljYXRvckxpc3RlbmVycygpIHtcbiAgICB0aGlzLm5leHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBuZXh0UGFnZSk7XG4gICAgdGhpcy5wYWdlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGNoYW5nZVBhZ2UpO1xuICAgIHRoaXMucGFnZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgY2hhbmdlUGFnZSk7XG4gIH1cbn1cblxuY2xhc3MgVXNlclBhZ2luYXRvciBleHRlbmRzIFBhZ2luYXRvclRlbXBsYXRlIHtcbiAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgIHN1cGVyKC4uLmFyZ3MpO1xuICB9XG5cbiAgZ2VuZXJhdGVUYWJsZSgpIHtcbiAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gICAgdGFibGUuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbicpO1xuXG4gICAgdGFibGUuaW5uZXJIVE1MID0gYDx0aGVhZCBjbGFzcz1cInBhZ2luYXRpb25fX2hlYWRcIj48dHIgY2xhc3M9XCJwYWdpbmF0aW9uX19yb3dcIj48dGggY2xhc3M9XCJwYWdpbmF0aW9uX19jZWxsXCI+U291cmNlPC90aD48dGggY2xhc3M9XCJwYWdpbmF0aW9uX19jZWxsXCI+U2hvcnRlbmVkPC90aD48dGggY2xhc3M9XCJwYWdpbmF0aW9uX19jZWxsXCI+Q3JlYXRlZCBhdDwvdGg+PHRoIGNsYXNzPVwicGFnaW5hdGlvbl9fY2VsbCBwYWdpbmF0aW9uX19jZWxsLS1idXR0b25cIj48L3RoPjx0aCBjbGFzcz1cInBhZ2luYXRpb25fX2NlbGwgcGFnaW5hdGlvbl9fY2VsbC0tYnV0dG9uXCI+PC90aD48dGggY2xhc3M9XCJwYWdpbmF0aW9uX19jZWxsIHBhZ2luYXRpb25fX2NlbGwtLWJ1dHRvblwiPjwvdGg+PC90cj48L3RoZWFkPjx0Ym9keSBjbGFzcz1cInBhZ2luYXRpb25fX2JvZHlcIj48L3Rib2R5PmA7XG5cbiAgICByZXR1cm4gdGFibGU7XG4gIH1cblxuICBnZW5lcmF0ZVRhYmxlUm93KHsgcmVkaXJlY3RMaW5rLCBzb3VyY2UsIGNyZWF0ZWRfYXQsIHJlZGlyZWN0X2xpbmtfaWQgfSkge1xuICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICB0ci5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0aW9uX19yb3cnKTtcbiAgICB0ci5kYXRhc2V0LmlkID0gcmVkaXJlY3RfbGlua19pZDtcbiAgICBjb25zdCBkYXRlU3RyaW5nID0gbmV3IERhdGUoY3JlYXRlZF9hdCkudG9Mb2NhbGVTdHJpbmcoKTtcblxuICAgIHRyLmlubmVySFRNTCA9IGBcbiAgICA8dHIgY2xhc3M9XCJwYWdpbmF0aW9uX19yb3dcIiA+XG4gICAgPHRkIGNsYXNzPVwicGFnaW5hdGlvbl9fY2VsbFwiPiR7c291cmNlfTwvdGQ+XG4gICAgPHRkIGNsYXNzPVwicGFnaW5hdGlvbl9fY2VsbFwiPjxhIGNsYXNzPVwibGlua1wiIGhyZWY9XCIke3JlZGlyZWN0TGlua31cIj4ke3JlZGlyZWN0TGlua308L2E+PC90ZD5cbiAgICA8dGQgY2xhc3M9XCJwYWdpbmF0aW9uX19jZWxsXCI+JHtkYXRlU3RyaW5nfTwvdGQ+XG4gICAgPHRkIGNsYXNzPVwicGFnaW5hdGlvbl9fY2VsbCBwYWdpbmF0aW9uX19jZWxsLS1idXR0b25cIj48YnV0dG9uIGNsYXNzPVwicGFnaW5hdGlvbl9fY29weSBidXR0b24gY29weVwiPkNvcHk8L2J1dHRvbj48L3RkPlxuICAgIDx0ZCBjbGFzcz1cInBhZ2luYXRpb25fX2NlbGwgcGFnaW5hdGlvbl9fY2VsbC0tYnV0dG9uXCI+PGJ1dHRvbiBjbGFzcz1cInBhZ2luYXRpb25fX2VkaXQgYnV0dG9uXCI+RWRpdDwvYnV0dG9uPjwvdGQ+XG4gICAgPHRkIGNsYXNzPVwicGFnaW5hdGlvbl9fY2VsbCBwYWdpbmF0aW9uX19jZWxsLS1idXR0b25cIj48YnV0dG9uIGNsYXNzPVwicGFnaW5hdGlvbl9fZGVsZXRlIGJ1dHRvblwiPkRlbGV0ZTwvYnV0dG9uPjwvdGQ+XG4gICAgPC90cj5cbiAgICBgO1xuXG4gICAgcmV0dXJuIHRyO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUGFnaW5hdG9yVGVtcGxhdGUiLCJjb25zdHJ1Y3RvciIsInNlbGVjdG9yIiwibGluayIsImxpbWl0IiwidGhpcyIsInRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImluaXQiLCJpbml0VGFibGUiLCJpbml0SW5kaWNhdG9yIiwiaW5pdERhdGEiLCJ0YWJsZSIsImdlbmVyYXRlVGFibGUiLCJib2R5IiwiYXBwZW5kVG9UYXJnZXQiLCJpbmRpY2F0b3IiLCJnZW5lcmF0ZUluZGljYXRvciIsInBhZ2VJbnB1dCIsIm1heFBhZ2VOb2RlIiwibmV4dEJ1dHRvbiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJub2RlIiwiYXBwZW5kIiwiYXBwZW5kVG9Cb2R5IiwiY2xlYXJCb2R5IiwicGFnZSIsImxhc3RQYWdlIiwiaXRlbXMiLCJnZXRQYWdlIiwic2V0UGFnZU51bWJlciIsInNldE1heFBhZ2VOdW1iZXIiLCJhcHBlbmRUYWJsZUl0ZW1zIiwiZ2V0UGFnZUJ5TnVtYmVyIiwiZ2V0Q3VycmVudFBhZ2VOdW1iZXIiLCJzZW5kR2V0IiwiZXJyb3IiLCJudW0iLCJjdXJyZW50UGFnZSIsInZhbHVlIiwiaW5uZXJUZXh0IiwiZm9yRWFjaCIsImdlbmVyYXRlVGFibGVSb3ciLCJpdGVtIiwiaW5pdEluZGljYXRvckxpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJuZXh0UGFnZSIsImNoYW5nZVBhZ2UiLCJVc2VyUGFnaW5hdG9yIiwiYXJncyIsInN1cGVyIiwicmVkaXJlY3RMaW5rIiwic291cmNlIiwiY3JlYXRlZF9hdCIsInJlZGlyZWN0X2xpbmtfaWQiLCJ0ciIsImRhdGFzZXQiLCJpZCIsImRhdGVTdHJpbmciLCJEYXRlIiwidG9Mb2NhbGVTdHJpbmciXSwibWFwcGluZ3MiOiJNQUFNQSxrQkFDSkMsWUFBWUMsRUFBVSxDQUFFQyxLQUFBQSxFQUFNQyxNQUFBQSxFQUFRLEtBQ3BDQyxLQUFLQyxPQUFTQyxTQUFTQyxjQUFjTixHQUNyQ0csS0FBS0YsS0FBT0EsRUFDWkUsS0FBS0QsTUFBUUEsRUFFYkMsS0FBS0ksT0FHUEEsT0FDRUosS0FBS0ssWUFDTEwsS0FBS00sZ0JBQ0xOLEtBQUtPLFdBS1BGLFlBQ0UsTUFBTUcsRUFBUVIsS0FBS1MsZ0JBRW5CVCxLQUFLVSxLQUFPRixFQUFNTCxjQUFjLFNBRWhDSCxLQUFLVyxlQUFlSCxHQUd0QkYsZ0JBQ0VOLEtBQUtZLFVBQVlaLEtBQUthLG9CQUV0QmIsS0FBS2MsVUFBWWQsS0FBS1ksVUFBVVQsY0FBYyxTQUM5Q0gsS0FBS2UsWUFBY2YsS0FBS1ksVUFBVVQsY0FBYyxxQkFDaERILEtBQUtnQixXQUFhaEIsS0FBS1ksVUFBVVQsY0FBYyxvQkFFL0NILEtBQUtXLGVBQWVYLEtBQUtZLFdBRzNCQyxvQkFDRSxNQUFNRCxFQUFZVixTQUFTZSxjQUFjLE9BS3pDLE9BSkFMLEVBQVVNLFVBQVVDLElBQUksYUFFeEJQLEVBQVVRLFVBQVksOFBBRWZSLEVBR1RELGVBQWVVLEdBQ2JyQixLQUFLQyxPQUFPcUIsT0FBT0QsR0FHckJFLGFBQWFGLEdBQ1hyQixLQUFLVSxLQUFLWSxPQUFPRCxHQUduQkcsWUFDRXhCLEtBQUtVLEtBQUtVLFVBQVksR0FHeEJiLGlCQUNFLEdBQU0sQ0FBRWtCLEtBQUFBLEVBQU1DLFNBQUFBLEVBQVVDLE1BQUFBLFNBQWdCM0IsS0FBSzRCLFVBRTdDNUIsS0FBSzZCLGNBQWNKLEdBQ25CekIsS0FBSzhCLGlCQUFpQkosR0FDdEIxQixLQUFLK0IsaUJBQWlCSixHQUd4QkMsY0FBY0gsR0FDWixPQUFPekIsS0FBS2dDLGdCQUFnQmhDLEtBQUtpQyxxQkFBcUJSLElBR3hETyxzQkFBc0JQLEdBQ3BCLElBQ0UsT0FBT1MsV0FBV2xDLEtBQUtGLFFBQVEyQixLQUFRekIsS0FBS0QsU0FDNUMsTUFBT29DLEdBQ1AsTUFBTyxJQUlYRixxQkFBcUJHLEdBQ25CLE9BQU9BLElBQVFwQyxLQUFLcUMsYUFBZSxHQUFLLEVBRzFDUixjQUFjSixHQUNaekIsS0FBS2MsVUFBVXdCLE1BQVFiLEVBQ3ZCekIsS0FBS3FDLFlBQWNaLEVBR3JCSyxpQkFBaUJMLEdBQ2Z6QixLQUFLZSxZQUFZd0IsVUFBWWQsRUFHL0JNLGlCQUFpQkosR0FDZkEsRUFBTWEsUUFBUSxJQUNaeEMsS0FBS3VCLGFBQWF2QixLQUFLeUMsaUJBQWlCQyxNQUk1Q0MseUJBQ0UzQyxLQUFLZ0IsV0FBVzRCLGlCQUFpQixRQUFTQyxVQUMxQzdDLEtBQUtjLFVBQVU4QixpQkFBaUIsT0FBUUUsWUFDeEM5QyxLQUFLYyxVQUFVOEIsaUJBQWlCLFdBQVlFLG1CQUkxQ0Msc0JBQXNCcEQsa0JBQzFCQyxlQUFlb0QsR0FDYkMsU0FBU0QsR0FHWHZDLGdCQUNFLE1BQU1ELEVBQVFOLFNBQVNlLGNBQWMsU0FLckMsT0FKQVQsRUFBTVUsVUFBVUMsSUFBSSxjQUVwQlgsRUFBTVksVUFBWSxvYUFFWFosRUFHVGlDLGlCQUFpQixDQUFFUyxhQUFBQSxFQUFjQyxPQUFBQSxFQUFRQyxXQUFBQSxFQUFZQyxpQkFBQUEsSUFDbkQsTUFBTUMsRUFBS3BELFNBQVNlLGNBQWMsTUFDbENxQyxFQUFHcEMsVUFBVUMsSUFBSSxtQkFDakJtQyxFQUFHQyxRQUFRQyxHQUFLSCxFQUNWSSxFQUFhLElBQUlDLEtBQUtOLEdBQVlPLGlCQWF4QyxPQVhBTCxFQUFHbEM7O21DQUU0QitCO3lEQUNzQkQsTUFBaUJBO21DQUN2Q087Ozs7O01BT3hCSCJ9
